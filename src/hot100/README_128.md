## 1.题目描述

给定一个未排序的整数数组 `nums` ，找出数字连续的最长序列（不要求序列元素在原数组中连续）的长度。

请你设计并实现时间复杂度为 `O(n)` 的算法解决此问题。

**示例 1：**

```python
输入：nums = [100,4,200,1,3,2]
输出：4
解释：最长数字连续序列是 [1, 2, 3, 4]。它的长度为 4。
```

**示例 2：**

```python
输入：nums = [0,3,7,2,5,8,4,6,0,1]
输出：9
```

**示例 3：**

```python
输入：nums = [1,0,1,2]
输出：3
```

## 2.解题过程

由于题目要求时间复杂度不能超过O(n)，所以不能对数组进行排序，排序的时间复杂度位O(n(log n))

思想：遍历数组，如果找不到x-1，则说明是以x开头的连续数组；如果能找到x-1，则从x-1去找连续序列(肯定比从x找连续序列的长度长)。

优化：1.为减少重复元素的查找，我们采用set集合来存贮数组。2.如果我们统计的连续序列的长度大于（set集合总长度的1/2）则直接返回，停止后面的遍历查找。

## 3.代码

```python
class Solution:
    def longestConsecutive(self, nums: List[int]) -> int:
        s = set(nums)
        n =len(s)
        ans =0
        for x in s:
            if x-1 in s:
                continue
            y =x +1
            while y in s:
                y +=1
            ans = max(ans,y-x)#从 x 到 y-1 一共 y-x 个数
        return ans
```

